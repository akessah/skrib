---
timestamp: 'Sat Oct 18 2025 17:02:47 GMT-0400 (Eastern Daylight Time)'
content_id: b3543c9114f39d8fdc79e55e0eabacc847d75f83acf6a13c8940a15e5f080940
---

# file: src/concepts/skrib/Tagging.ts

```typescript
import { Collection, Db } from "npm:mongodb";
import { Empty, ID } from "@utils/types.ts";
import { freshID } from "@utils/database.ts";


// Declare collection prefix, use concept name
const PREFIX = "Tagging" + ".";

// Generic types of this concept
type User = ID;
type Book = ID;


//internal ids
type Tag = ID;

/**
 * a set of Tags with
 *  a label String
 *  an book Book
 *  a user User
 *  a private Flag
 */
interface Tags {
  _id: Tag;
  user: User;
  label: string;
  book: Book;
  private: boolean;
}


/**
 * @concept Tagging
 * @purpose to label books to assist in searching and organization
 */
export default class PostingConcept {
    private tags: Collection<Tags>;


    constructor(private readonly db: Db) {
        this.tags = this.db.collection(PREFIX + "tags");
    }


    /**
     * Adds a tag to a book
     * @requires no user tag with label already associated with book
     * @effects adds a tag from user with label associated with book to Tags set; default is public (not private)
     */
    async addTag({ user, label, book }: { user: User; label: string; book: Book}): Promise<{tag: Tag}|{error: string}> {
        throw new Error("not implemented");
    }

    /**
     * Removes a tag from a book
     * @requires tag exists
     * @effects removes tag from Tags set
     */
    async removeTag({ tag }: { tag: Tag}): Promise<Empty|{error: string}> {
        throw new Error("not implemented");
    }

    /**
     * Marks a tag as private (only searchable to user)
     * @requires tag exists
     * @effects sets private flag to true
     */
    async markPrivate({ tag }: { tag: Tag}): Promise<Empty|{error: string}> {
        throw new Error("not implemented");
    }

    /**
     * Marks a tag as public (searchable to all)
     * @requires tag exists
     * @effects sets private flag to false
     */
    async markPublic({ tag }: { tag: Tag}): Promise<Empty|{error: string}> {
        throw new Error("not implemented");
    }


    /**
     * returns all public tags associated with book along with
     * private tags created by user associated with book
     */
    async _getTagsByBook({ user, book }: {user: User; book: Book}): Promise<Tags[]> {
        throw new Error("not implemented");
    }

    /**
     * returns all books with all labels in labels, including labels of private tags by user
     */
    async _getBooksByLabel({ user, labels }: {user: User; labels: string[]}): Promise<Tags[]> {
        throw new Error("not implemented");
    }

    /**
     * returns all tags created by user
     */
    async _getTagsByUser({ user }: {user: User}): Promise<Tags[]> {
        throw new Error("not implemented");
    }

    /**
     * returns all public tags in database
     */
    async _getAllPublicTags(empty: Empty): Promise<Tags[]> {
        throw new Error("not implemented");
    }

    /**
     * returns all tags in database
     */
    async _getAllTags(empty: Empty): Promise<Tags[]> {
        throw new Error("not implemented");
    }
}

```
